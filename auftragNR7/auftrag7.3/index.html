<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <title>Formular</title>
    <script>
      let zipcodes;

      fetch("places.json")
        .then((res) => res.json())
        .then((data) => (zipcodes = data));

      document.addEventListener("DOMContentLoaded", () => {
        const plzEl = document.querySelector("input[name=plz]");
        const ortEl = document.querySelector("input[name=ort]");

        plzEl.addEventListener("blur", () => {
          const entry = zipcodes.find((entry) => entry.zipcode === plzEl.value);
          ortEl.value = entry.place;
        });
      });
    </script>
  </head>
  <body>
    <form>
      <label for="vorname">Vorname</label><br />
      <input type="text" id="vorname" name="vorname" /><br /><br />

      <label for="nachname">Nachname</label><br />
      <input type="text" id="nachname" name="nachname" /><br /><br />

      <label for="strasse">Strasse</label><br />
      <input type="text" id="strasse" name="strasse" /><br /><br />

      <label for="plz">Postleitzahl</label><br />
      <input type="text" id="plz" name="plz" /><br /><br />

      <label for="ort">Ort</label><br />
      <input type="text" id="ort" name="ort" /><br /><br />

      <button type="submit">Senden</button>
    </form>
  </body>
</html>
